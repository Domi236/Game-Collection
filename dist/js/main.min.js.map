{"version":3,"sources":["gameLoader.js"],"names":["ajaxhttp","XMLHttpRequest","url","x","myObj","displayAllImages","open","setRequestHeader","onreadystatechange","readyState","status","JSON","parse","responseText","generateMenu","generateSubMenu","showAll","filterElements","activeTarget","send","consoleArray","consoleList","i","searchcriteria","indexOf","console","push","document","getElementById","innerHTML","tagArray","tagList","j","tags","sort","allGameCards","filteredGameCards","generateGameCard","querySelectorAll","forEach","item","addEventListener","e","filter","target","dataset","gameCards","tag","src","name","concat","join","menu","menuItem","event","classList","remove","add"],"mappings":"aAEA,IAAAA,SAAA,IAAAC,eACAC,IAAA,qCACAC,EAAA,GACAC,MAAA,GAGA,SAAAC,mBACAL,SAAAM,KAAA,MAAAJ,KAAA,GACAF,SAAAO,iBAAA,eAAA,oBACAP,SAAAQ,mBAAA,WACA,GAAAR,SAAAS,YAAA,KAAAT,SAAAU,SAEAN,MAAAO,KAAAC,MAAAZ,SAAAa,cAEAC,eACAC,kBACAC,UACAC,iBACAC,iBAGAlB,SAAAmB,KAAA,MAGA,SAAAL,eACA,IAAAM,EAAA,GACAC,EAAA,GAEA,IAAA,IAAAC,KAAAlB,MAAAmB,gBACA,GAAAH,EAAAI,QAAApB,MAAAmB,eAAAD,GAAAG,UACAL,EAAAM,KAAAtB,MAAAmB,eAAAD,GAAAG,SAIA,IAAA,IAAAH,KAAAF,EACAC,GAAA,wDAAAD,EAAAE,GAAA,KAAAF,EAAAE,GAAA,4MAEAK,SAAAC,eAAA,wBAAAC,UAAA,4SAAAR,EAIA,SAAAN,kBACA,IAAAe,EAAA,GACAC,EAAA,GAEA,IAAA,IAAAT,KAAAlB,MAAAmB,eACA,IAAA,IAAAS,KAAA5B,MAAAmB,eAAAD,GAAAW,MACA,GAAAH,EAAAN,QAAApB,MAAAmB,eAAAD,GAAAW,KAAAD,KACAF,EAAAJ,KAAAtB,MAAAmB,eAAAD,GAAAW,KAAAD,IAMA,IAAA,IAAAV,KAFAQ,EAAAI,OAEAJ,EACAC,GAAA,wFAAAD,EAAAR,GAAA,KAAAQ,EAAAR,GAAA,QAEAK,SAAAC,eAAA,4BAAAC,UAAAE,EAGA,SAAAf,UACA,IAAAmB,EAAAR,SAAAC,eAAA,4BACAQ,EAAA,GACA,IAAA,IAAAd,KAAAlB,MAAAmB,eACAa,GAAAC,iBAAAjC,MAAAmB,eAAAD,IAEAa,EAAAN,UAAAO,EAGA,SAAAnB,iBACAU,SAAAW,iBAAA,gCAEAC,QAAA,SAAAC,GACAA,EAAAC,iBAAA,QAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAE,OAAAC,QAAAF,OAEAG,EAAAnB,SAAAC,eAAA,4BACAQ,EAAA,GAGA,GAFAU,EAAAjB,UAAA,GAEA,QAAAc,EAAA,CACA,IAAA,IAAArB,KAAAlB,MAAAmB,eACAa,GAAAC,iBAAAjC,MAAAmB,eAAAD,IAEAwB,EAAAjB,UAAAO,OAGAhC,MAAAmB,eAAAgB,QAAA,SAAAC,GACAA,EAAAf,UAAAkB,IACAP,GAAAC,iBAAAG,IAGAA,EAAAP,KACAM,QAAA,SAAAQ,GACAA,IAAAJ,IACAP,GAAAC,iBAAAG,QAIAM,EAAAjB,UAAAO,MAMA,SAAAC,iBAAAG,GAIA,MAHA,uJAAAA,EAAAQ,IAAA,4KACAR,EAAAS,KAAA,2DAAAT,EAAAP,KAAAiB,SAAAhB,OAAAiB,KAAA,MAAA,KAAAX,EAAAf,QAAA,iEACAe,EAAAtC,IAAA,yEAIA,SAAAgB,eACA,IAAAkC,EAAAzB,SAAAW,iBAAA,gCACAc,EAAAb,QAAA,SAAAc,GACAA,EAAAZ,iBAAA,QAAA,SAAAa,GACAF,EAAAb,QAAA,SAAAc,GACAA,EAAAE,UAAAC,OAAA,kCAEAF,EAAAV,OAAAW,UAAAE,IAAA","file":"main.min.js","sourcesContent":["\r\n\r\nvar ajaxhttp = new XMLHttpRequest();\r\nvar url = \"https://api.myjson.com/bins/10083k\"; //it doesn't enable to use (assets/json/games.json)//{}myjson http://myjson.com/ihhge\r\nvar x = \"\";\r\nvar myObj = \"\";\r\n\r\n\r\nfunction displayAllImages() {\r\n  ajaxhttp.open(\"GET\", url, true);  //get will be used to request dats//post will be used when the dats are more then 512Bytes //if the boolean is true it won'z be wainting for the request, but it is false it will(it is to be used for a Login field)\r\n  ajaxhttp.setRequestHeader(\"content-type\", \"application/json\"); //Assigns the header a label or value pair, which is sent with the request\r\n  ajaxhttp.onreadystatechange = function () {   //will be called by each change of the XHR-State\r\n    if (ajaxhttp.readyState == 4 && ajaxhttp.status == 200) { //the number gives the state about it, if it ranges 4 it is done//ready state gives a state about the progress //sends the number of output code for example 200 for OK\r\n            //debugger;\r\n      myObj = JSON.parse(ajaxhttp.responseText); //change the data of the json file in a string with dats\r\n\r\n      generateMenu();\r\n      generateSubMenu();\r\n      showAll();\r\n      filterElements();\r\n      activeTarget();\r\n    }\r\n  }\r\n  ajaxhttp.send(null); //sends the request, optional with a string or Dom-Object-Dats\r\n}\r\n\r\nfunction generateMenu() {\r\n  var consoleArray = [];\r\n  var consoleList = \"\";\r\n\r\n  for (var i in myObj.searchcriteria) {\r\n    if (consoleArray.indexOf(myObj.searchcriteria[i].console) == -1) {\r\n      consoleArray.push(myObj.searchcriteria[i].console);\r\n    }\r\n  }\r\n\r\n  for (var i in consoleArray) {\r\n    consoleList += \"<li class='content__header-menu-toggle' data-filter='\" + consoleArray[i] + \"'>\" + consoleArray[i] + \"<span class='content__header-menu-border'></span><span class='content__header-menu-border'></span><span class='content__header-menu-border'></span><span class='content__header-menu-border'></span></li>\";\r\n  }\r\n  document.getElementById('content__header-menu').innerHTML = \"<li class='content__header-menu-toggle content__header-menu--active' data-filter='all'> Show all<span class='content__header-menu-border'></span><span class='content__header-menu-border'></span><span class='content__header-menu-border'></span><span class='content__header-menu-border'></span></li>\" + consoleList;\r\n}\r\n\r\n\r\nfunction generateSubMenu() {\r\n  var tagArray = [];\r\n  var tagList = \"\";\r\n\r\n  for (var i in myObj.searchcriteria) {\r\n    for (var j in myObj.searchcriteria[i].tags) {\r\n      if (tagArray.indexOf(myObj.searchcriteria[i].tags[j]) == -1) {\r\n        tagArray.push(myObj.searchcriteria[i].tags[j]);\r\n      }\r\n    }\r\n  }\r\n  tagArray.sort();\r\n\r\n  for (var i in tagArray) {\r\n    tagList += \"<li class='content__header-sub-menu-toggle content__header-menu-toggle' data-filter='\" + tagArray[i] + \"'>\" + tagArray[i] + \"</li>\";\r\n  }\r\n  document.getElementById('content__header-sub-menu').innerHTML = tagList;\r\n}\r\n\r\nfunction showAll() {\r\n  var allGameCards = document.getElementById(\"content__container-games\");\r\n  var filteredGameCards = '';\r\n  for (var i in myObj.searchcriteria) {\r\n    filteredGameCards += generateGameCard(myObj.searchcriteria[i]);\r\n  }\r\n  allGameCards.innerHTML = filteredGameCards;\r\n}\r\n\r\nfunction filterElements() {\r\n  var menuBtn = document.querySelectorAll('.content__header-menu-toggle');\r\n\r\n  menuBtn.forEach(function(item) {               //[...z] change a nodelist into an array (need to look)\r\n    item.addEventListener('click', function(e){ //e = event\r\n      var filter = e.target.dataset.filter; // the event from the element which is choosen with the data-filter\r\n\r\n      var gameCards = document.getElementById(\"content__container-games\");\r\n      var filteredGameCards = '';\r\n      gameCards.innerHTML = '';\r\n\r\n      if (filter === \"all\") {\r\n        for (var i in myObj.searchcriteria) {\r\n          filteredGameCards += generateGameCard(myObj.searchcriteria[i]);\r\n        }\r\n        gameCards.innerHTML = filteredGameCards;\r\n\r\n      } else {\r\n        myObj.searchcriteria.forEach(function(item) {\r\n          if (item.console === filter) {\r\n            filteredGameCards += generateGameCard(item);\r\n          }\r\n\r\n          var tags = item.tags;\r\n          tags.forEach(function(tag) {\r\n            if (tag === filter) {\r\n              filteredGameCards += generateGameCard(item);\r\n            }\r\n          });\r\n        });\r\n        gameCards.innerHTML = filteredGameCards;\r\n      }\r\n    });\r\n  });\r\n} \r\n\r\nfunction generateGameCard(item) {\r\n  var element = \"<div class='content__container-games-card'><div class='content__container-games-card-front'><img class='content__container-games-card-images ' src='\" + item.src + \"'/></div><div class='content__container-games-card-back'><div class='content__container-games-card-back-content'><h2 class='content__container-games-card-back-headline'>\" +\r\n  item.name + \"</h2><p class='content__container-games-card-back-text'>\" + item.tags.concat().sort().join(', ') + \", \" + item.console + \"</p><a class='content__container-games-card-back-links' href='\" +\r\n  item.url + \"' target='_blank'><i class='fab fa-youtube'></i><a/></div></div></div>\";\r\n  return element;\r\n}\r\n\r\nfunction activeTarget() {\r\n  var menu = document.querySelectorAll('.content__header-menu-toggle');\r\n  menu.forEach(function(menuItem) {               //[...z] change a nodelist into an array (need to look)\r\n    menuItem.addEventListener('click', function(event){\r\n      menu.forEach(function(menuItem) {   //loop throw the menus and remove this class\r\n        menuItem.classList.remove('content__header-menu--active');\r\n      });\r\n      event.target.classList.add('content__header-menu--active'); //and add this class on which the user click\r\n    });\r\n  });\r\n}\r\n\r\n\r\n\r\n//todos: make a sort btn\r\n//place all games in Json with their content\r\n//look git-hub\r\n\r\n//hover to onclick Ã¤ndern bei den Karten\r\n// loop throw the json and give all cards the eventlistener(onclick) instead of hover/active \r\n// if another card is clicked the card which is clicked return back\r\n// you need on the title a title img\r\n// all you should change the filter, the filter should loop throw the json file not throw the classes\r\n\r\n// function activeCard() {\r\n//   var activeCard = document.querySelectorAll('.content__container-games-card');\r\n//   activeCard.forEach(function(activeCardItem) {             \r\n//     activeCardItem.addEventListener('click', function(ev){\r\n//       activeCard.forEach(function(activeCardItem) {   \r\n//         activeCardItem.classList.remove('content__container-games-card--active');\r\n//       });\r\n//       var target = ev.target.classList.add('content__container-games-card--active');\r\n//     });\r\n//   });\r\n// }\r\n"]}